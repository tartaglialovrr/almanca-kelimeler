<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Almanca Kelime Sınıflandırma</title>
  <style>
    :root{
      --bg: #0b0e14;
      --panel: #111826;
      --text: #e6edf3;
      --muted: #9aa7b2;
      --accent: #7c9cff;
      --green-bg: #e6f6ec;
      --red-bg: #ffe9ea;
      --green: #109c5b;
      --red: #cc2936;
      --zone-verb: #e7f2ff;      /* maviye yakın */
      --zone-adj:  #fff4e6;      /* turuncu/pastel */
      --zone-noun: #eaf6ef;      /* yeşile yakın */
    }

    * { box-sizing: border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: var(--text);
      background: linear-gradient(180deg, #0b0e14 0%, #0e1220 100%);
    }

    .wrap{
      max-width: 1200px;
      margin: 32px auto;
      padding: 16px;
    }

    header{
      display:flex; align-items:center; justify-content:space-between; gap:16px;
      margin-bottom: 12px;
    }

    h1{ font-size: clamp(22px, 2.8vw, 32px); margin:0; letter-spacing:.2px; }
    p.lead{ margin:.25rem 0 0; color: var(--muted); }

    .board{
      display:grid; grid-template-columns: 280px 1fr; gap:16px;
    }

    /* Kelime havuzu */
    .pool{
      background: var(--panel);
      border: 1px solid #1f2937;
      border-radius: 16px; padding: 14px; position: sticky; top: 12px; height: fit-content;
    }
    .pool h2{ font-size: 16px; margin: 0 0 10px; color: var(--muted); }
    .chip-list{ display:flex; flex-wrap:wrap; gap:10px; }

    .chip{
      appearance:none; border:none; background:#0f172a; color:#e6edf3;
      border:1px solid #263143; padding:10px 12px; border-radius:12px; cursor:grab;
      font-weight:600; transition: transform .12s ease, box-shadow .12s ease, background .12s;
      user-select:none; outline:none;
    }
    .chip:active{ cursor:grabbing; transform: scale(.97); }
    .chip[data-state="placed"]{ opacity:.9; }

    /* Drop alanları */
    .zones{ display:grid; grid-template-columns: repeat(3, 1fr); gap:16px; }
    .zone{
      min-height: 280px; padding: 14px; border-radius: 16px;
      border: 2px dashed #2b364a; position: relative; transition: border-color .15s ease, background .2s ease;
      backdrop-filter: blur(0.5px);
    }
    .zone h3{ margin:0 0 8px; font-size: 16px; color:#111827; mix-blend-mode: multiply; }

    .zone[data-accept="verb"]{ background: var(--zone-verb); }
    .zone[data-accept="adjektiv"]{ background: var(--zone-adj); }
    .zone[data-accept="substantiv"]{ background: var(--zone-noun); }

    .zone .placeholder{ color:#4b5563; font-size:14px; opacity:.8; }

    .zone.highlight{ border-color: var(--accent); box-shadow: 0 0 0 4px rgba(124,156,255,.15) inset; }

    /* Değerlendirme renkleri kelime bazında */
    .chip.correct{ box-shadow: 0 0 0 3px var(--green-bg) inset; border-color: var(--green); }
    .chip.wrong{  box-shadow: 0 0 0 3px var(--red-bg)  inset; border-color: var(--red); }

    /* Alt bar */
    .toolbar{
      margin-top: 16px; display:flex; flex-wrap:wrap; gap:12px; align-items:center; justify-content:space-between;
      background: #0e1625; border:1px solid #1f2937; border-radius: 14px; padding: 10px 12px;
    }

    .buttons{ display:flex; gap:10px; }
    .btn{ appearance:none; border:1px solid #2b364a; background:#101a2f; color:var(--text); padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:700; }
    .btn.primary{ background:#1a2a4d; }
    .btn:hover{ filter: brightness(1.1); }

    .stats{
      display:flex; gap:14px; align-items:center; color: var(--muted);
    }
    .badge{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:999px; border:1px solid #22314a; background:#0f172a; font-weight:700; }
    .ok{ color: var(--green); }
    .bad{ color: var(--red); }

    @media (max-width: 900px){
      .board{ grid-template-columns: 1fr; }
      .pool{ position: static; }
      .zones{ grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Almanca Kelime Sınıflandırma</h1>
        <p class="lead">Kelimeleri doğru kutuya <strong>sürükleyip bırak</strong>. Sonra <em>Kontrol Et</em> düğmesine tıkla.</p>
      </div>
    </header>

    <section class="board" aria-label="Sürükle-bırak tahtası">
      <!-- Kelime Havuzu -->
      <aside class="pool" aria-label="Kelime havuzu">
        <h2>Kelime Havuzu</h2>
        <div id="pool" class="chip-list" aria-live="polite">
          <!-- data-cat = doğru kategori (verb / adjektiv / substantiv) -->
          <button class="chip" draggable="true" data-cat="verb">gehen</button>
          <button class="chip" draggable="true" data-cat="verb">lesen</button>
          <button class="chip" draggable="true" data-cat="verb">spielen</button>
          <button class="chip" draggable="true" data-cat="verb">schreiben</button>

          <button class="chip" draggable="true" data-cat="adjektiv">schnell</button>
          <button class="chip" draggable="true" data-cat="adjektiv">schön</button>
          <button class="chip" draggable="true" data-cat="adjektiv">rot</button>
          <button class="chip" draggable="true" data-cat="adjektiv">müde</button>

          <button class="chip" draggable="true" data-cat="substantiv">der Tisch</button>
          <button class="chip" draggable="true" data-cat="substantiv">die Stadt</button>
          <button class="chip" draggable="true" data-cat="substantiv">das Buch</button>
          <button class="chip" draggable="true" data-cat="substantiv">der Apfel</button>
        </div>
      </aside>

      <!-- Kategoriler / Bırakma Alanları -->
      <main class="zones">
        <div class="zone" data-accept="verb" aria-label="Fiil kutusu" tabindex="0">
          <h3>Verb (Fiil)</h3>
          <div class="placeholder">Buraya fiiller</div>
        </div>
        <div class="zone" data-accept="adjektiv" aria-label="Sıfat kutusu" tabindex="0">
          <h3>Adjektiv (Sıfat)</h3>
          <div class="placeholder">Buraya sıfatlar</div>
        </div>
        <div class="zone" data-accept="substantiv" aria-label="İsim kutusu" tabindex="0">
          <h3>Substantiv (İsim)</h3>
          <div class="placeholder">Buraya isimler</div>
        </div>
      </main>
    </section>

    <!-- Alt araç çubuğu -->
    <div class="toolbar">
      <div class="buttons">
        <button id="checkBtn" class="btn primary">Kontrol Et</button>
        <button id="resetBtn" class="btn" title="Tüm işaretleri sil ve başa dön">Sıfırla</button>
      </div>
      <div class="stats" aria-live="polite">
        <span class="badge ok">Doğru: <strong id="rightCount">0</strong></span>
        <span class="badge bad">Yanlış: <strong id="wrongCount">0</strong></span>
      </div>
    </div>
  </div>

  <script>
    // ---- Basit sürükle-bırak ----
    const pool = document.getElementById('pool');
    const zones = Array.from(document.querySelectorAll('.zone'));

    // Sürükleme başlatılırken, taşınan öğeyi global değişkende tutalım
    let dragged = null;

    function clearMarks(){
      document.querySelectorAll('.chip').forEach(c => c.classList.remove('correct','wrong'));
      updateStats(0,0);
    }

    function updateStats(r, w){
      document.getElementById('rightCount').textContent = r;
      document.getElementById('wrongCount').textContent  = w;
    }

    // Draggable davranışı
    document.addEventListener('dragstart', e => {
      const t = e.target.closest('.chip');
      if(!t) return;
      dragged = t;
      e.dataTransfer.effectAllowed = 'move';
      // boş veriyi bazı tarayıcılarda setlemek gerekiyor
      e.dataTransfer.setData('text/plain', t.textContent.trim());
    });

    document.addEventListener('dragend', () => dragged = null);

    zones.forEach(zone => {
      zone.addEventListener('dragover', e => { e.preventDefault(); zone.classList.add('highlight'); });
      zone.addEventListener('dragleave', () => zone.classList.remove('highlight'));
      zone.addEventListener('drop', e => {
        e.preventDefault();
        zone.classList.remove('highlight');
        if(!dragged) return;
        // Yerleştir
        zone.querySelector('.placeholder')?.remove();
        zone.appendChild(dragged);
        dragged.dataset.state = 'placed';
        clearMarks(); // yeni yerleşimde eski doğru/yanlış işaretlerini temizle
      });
    });

    // Havuz da bırakılabilir olsun (geri almak için)
    pool.addEventListener('dragover', e => e.preventDefault());
    pool.addEventListener('drop', e => {
      e.preventDefault();
      if(!dragged) return;
      pool.appendChild(dragged);
      dragged.dataset.state = '';
      clearMarks();
    });

    // ---- Kontrol Et butonu ----
    document.getElementById('checkBtn').addEventListener('click', () => {
      let right = 0, wrong = 0;
      // Her zone içindeki chip'leri değerlendir
      zones.forEach(zone => {
        const accept = zone.dataset.accept;
        const chips = zone.querySelectorAll('.chip');
        if(chips.length === 0 && !zone.querySelector('.placeholder')){
          // boşsa yer tutucuyu geri göster
          const ph = document.createElement('div');
          ph.className = 'placeholder';
          ph.textContent = 'Bırakın';
          zone.appendChild(ph);
        }
        chips.forEach(chip => {
          const good = chip.dataset.cat === accept;
          chip.classList.toggle('correct', good);
          chip.classList.toggle('wrong', !good);
          good ? right++ : wrong++;
        });
      });

      updateStats(right, wrong);
    });

    // ---- Sıfırla ----
    document.getElementById('resetBtn').addEventListener('click', () => {
      // tüm kelimeleri havuza geri al
      document.querySelectorAll('.chip').forEach(ch => pool.appendChild(ch));
      // yer tutucuları geri koy
      zones.forEach(z => {
        if(!z.querySelector('.placeholder')){
          const ph = document.createElement('div');
          ph.className = 'placeholder';
          ph.textContent = z.dataset.accept === 'verb' ? 'Buraya fiiller' : z.dataset.accept === 'adjektiv' ? 'Buraya sıfatlar' : 'Buraya isimler';
          z.appendChild(ph);
        }
      });
      clearMarks();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Klavye ile taşıma (basit): Enter ile seç, ok tuşlarıyla alan seçemez ama butonla tarihte yok – erişilebilirlik için minimal.
  </script>
</body>
</html>
